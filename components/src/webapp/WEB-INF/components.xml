<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
<bean id="org.sakaiproject.springframework.orm.hibernate.impl.AdditionalHibernateMappingsImpl.melete"
		class="org.sakaiproject.springframework.orm.hibernate.impl.AdditionalHibernateMappingsImpl">
		<property name="mappingResources">
			   <list>
                <value>org/sakaiproject/component/app/melete/MeleteLicense.hbm.xml</value>
            	<value>org/sakaiproject/component/app/melete/CcLicense.hbm.xml</value>		
				<value>org/sakaiproject/component/app/melete/Module.hbm.xml</value>
				<value>org/sakaiproject/component/app/melete/Section.hbm.xml</value>
				<value>org/sakaiproject/component/app/melete/ModuleShdates.hbm.xml</value>
				<value>org/sakaiproject/component/app/melete/ModuleStudentPrivs.hbm.xml</value>
				<value>org/sakaiproject/component/app/melete/CourseModule.hbm.xml</value>	
				<value>org/sakaiproject/component/app/melete/SectionResource.hbm.xml</value>	
				<value>org/sakaiproject/component/app/melete/MeleteUserPreference.hbm.xml</value>	
				<value>org/sakaiproject/component/app/melete/MeleteBookmarks.hbm.xml</value>	
				<value>org/sakaiproject/component/app/melete/MeleteResource.hbm.xml</value>	
				<value>org/sakaiproject/component/app/melete/MeleteMigrateStatus.hbm.xml</value>
				<value>org/sakaiproject/component/app/melete/MeleteSitePreference.hbm.xml</value>	
	        </list>
		</property>
	</bean>
	<!--security check-->
	<bean id="org.sakaiproject.api.app.melete.MeleteSecurityService"
			class="org.sakaiproject.component.app.melete.MeleteSecurityServiceImpl"
			init-method="init"
			destroy-method="destroy"
			singleton="true">	
     <property name="moduleService">
            <ref local="org.sakaiproject.api.app.melete.ModuleService" />
        </property>		
    <property name="meleteImportService">
            <ref local="org.sakaiproject.api.app.melete.MeleteImportService" />
        </property>         			
	</bean>
	
	<!-- common -->
		<bean id="org.sakaiproject.component.app.melete.HibernateUtil"
			class="org.sakaiproject.component.app.melete.HibernateUtil"
			singleton="true">
		<property name="sessionFactory">
            <ref bean="org.sakaiproject.springframework.orm.hibernate.GlobalSessionFactory"/>
        </property>
	</bean>

<!--ModuleService-->
	<bean id="org.sakaiproject.api.app.melete.ModuleService"
			class="org.sakaiproject.component.app.melete.ModuleServiceImpl"
			singleton="true">		
        	<property name="moduledb">
            <ref local="org.sakaiproject.component.app.melete.ModuleDB" />
        </property>	
        <property name="meleteCHService">
            <ref local="org.sakaiproject.api.app.melete.MeleteCHService" />
        </property>	
        <property name="sectionService">
            <ref local="org.sakaiproject.api.app.melete.SectionService" />
        </property>                
	</bean>	
	
	
	
		<bean id="org.sakaiproject.component.app.melete.MeleteLicenseDB"
			class="org.sakaiproject.component.app.melete.MeleteLicenseDB"
			singleton="true">
			<property name="hibernateUtil">
            <ref local="org.sakaiproject.component.app.melete.HibernateUtil" />
        </property>
    </bean>
    
	<bean id="org.sakaiproject.component.app.melete.ModuleDB"
			class="org.sakaiproject.component.app.melete.ModuleDB"
			singleton="true">
			<property name="hibernateUtil">
            <ref local="org.sakaiproject.component.app.melete.HibernateUtil" />            
        </property>
        <property name="sectionDB">
            <ref local="org.sakaiproject.component.app.melete.SectionDB" />
        </property>
        
         <property name="meleteCHService">
            <ref local="org.sakaiproject.api.app.melete.MeleteCHService" />
        </property>
   </bean>	

<!-- Section service -->
<bean id="org.sakaiproject.api.app.melete.SectionService"
			class="org.sakaiproject.component.app.melete.SectionServiceImpl"
			init-method="init"
			destroy-method="destroy"			
			singleton="true">
		<property name="sectiondb">
            <ref local="org.sakaiproject.component.app.melete.SectionDB" />
        </property>
        <property name="moduleDB">
            <ref local="org.sakaiproject.component.app.melete.ModuleDB" />
        </property>   
         <property name="meleteLicenseDB">
            <ref local="org.sakaiproject.component.app.melete.MeleteLicenseDB" />
        </property>   
               
	</bean>
		
	<bean id="org.sakaiproject.component.app.melete.SectionDB"
			class="org.sakaiproject.component.app.melete.SectionDB"
			singleton="true">
			<property name="hibernateUtil">
            <ref local="org.sakaiproject.component.app.melete.HibernateUtil" />
        </property>
	</bean>
	

	<!--import export -->
	<bean id="org.sakaiproject.api.app.melete.MeleteExportService"
			class="org.sakaiproject.component.app.melete.MeleteExportServiceImpl"
			init-method="init"
			destroy-method="destroy"
			singleton="true">
	<property name="sectionDB">
            <ref local="org.sakaiproject.component.app.melete.SectionDB" />
        </property>      
        <property name="meleteCHService">
            <ref local="org.sakaiproject.api.app.melete.MeleteCHService" />
        </property>
        <property name="meleteLicenseDB">
            <ref local="org.sakaiproject.component.app.melete.MeleteLicenseDB" />
        </property>
	</bean>
		
	<bean id="MeleteExportScormService"
			class="org.sakaiproject.component.app.melete.MeleteScormExportServiceImpl"
			init-method="init"
			destroy-method="destroy"
			singleton="true">
	<property name="sectionDB">
            <ref local="org.sakaiproject.component.app.melete.SectionDB" />
        </property>      
        <property name="meleteCHService">
            <ref local="org.sakaiproject.api.app.melete.MeleteCHService" />
        </property>
        <property name="meleteLicenseDB">
            <ref local="org.sakaiproject.component.app.melete.MeleteLicenseDB" />
        </property>
	</bean>
	
	
	<bean id="org.sakaiproject.api.app.melete.MeleteImportService"
			class="org.sakaiproject.component.app.melete.MeleteImportServiceImpl"
			init-method="init"
			destroy-method="destroy"
			singleton="true">
	<property name="sectionDB">
            <ref local="org.sakaiproject.component.app.melete.SectionDB" />
        </property>
        <property name="moduleDB">
            <ref local="org.sakaiproject.component.app.melete.ModuleDB" />
        </property>
        <property name="meleteCHService">
            <ref local="org.sakaiproject.api.app.melete.MeleteCHService" />
        </property>
        <property name="meleteLicenseDB">
            <ref local="org.sakaiproject.component.app.melete.MeleteLicenseDB" />
        </property>
        
        <property name="meleteUserPrefDB">
            <ref local="org.sakaiproject.component.app.melete.MeleteUserPreferenceDB" />
        </property>
        
	</bean>
	
	<bean id="org.sakaiproject.api.app.melete.MeleteCHService"
				class="org.sakaiproject.component.app.melete.MeleteCHServiceImpl"
				singleton="true">	
		<property name="contentservice">
			<ref bean="org.sakaiproject.content.api.ContentHostingService"/>
        </property>
        <property name="sectiondb">
            <ref local="org.sakaiproject.component.app.melete.SectionDB" />
        </property>
        <property name="meleteSecurityService">
            <ref local="org.sakaiproject.api.app.melete.MeleteSecurityService" />
        </property>        
	</bean>
	
	<bean id="org.sakaiproject.component.app.melete.MeleteUserPreferenceDB"
			class="org.sakaiproject.component.app.melete.MeleteUserPreferenceDB"
			singleton="true">
			<property name="hibernateUtil">
            <ref local="org.sakaiproject.component.app.melete.HibernateUtil" />
        </property>        
	</bean>
	
	<bean id="org.sakaiproject.api.app.melete.MeleteAuthorPrefService"
				class="org.sakaiproject.component.app.melete.MeleteAuthorPrefServiceImpl"
				singleton="true">	
		<property name="userPrefdb">
			<ref local="org.sakaiproject.component.app.melete.MeleteUserPreferenceDB"/>
        </property>
	</bean>
    
    <bean id="org.sakaiproject.component.app.melete.MeleteBookmarksDB"
			class="org.sakaiproject.component.app.melete.MeleteBookmarksDB"
			singleton="true">
			<property name="hibernateUtil">
            <ref local="org.sakaiproject.component.app.melete.HibernateUtil" />
        </property>        
	</bean>	
	
	<bean id="org.sakaiproject.api.app.melete.MeleteBookmarksService"
				class="org.sakaiproject.component.app.melete.MeleteBookmarksServiceImpl"
				singleton="true">	
		<property name="bookmarksdb">
			<ref local="org.sakaiproject.component.app.melete.MeleteBookmarksDB"/>
        </property>
	</bean>
</beans>